<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RECO SDK for iOS 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.2.0/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="None" href="index.html#document-index" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html#document-index">
          RECO SDK for iOS</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html#document-index">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-requirements">필수 요구사항</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-getting_started">SDK 사용하기</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-license">RECO Beacon Software Development Kit AGREEMENT</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-requirements">필수 요구사항</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#ios-sdk-version">iOS SDK Version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-getting_started">SDK 사용하기</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#installing-docdir">SDK 통합</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#reco-sdk">RECO SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#monitoring-recobeaconregion">Monitoring RECOBeaconRegion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#recobeaconregion">RECOBeaconRegion의 정의</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#region">Region 진입여부에 따른 이벤트 핸들링</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#ranging-recobeacon">Ranging을 통해 RECOBeacon의 근접여부 판별</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id2">SDK의 사용</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#monitoring">Monitoring의 행동</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#ranging">Ranging의 행동</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#ios8">iOS8의 위치 서비스</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#id3">iOS8의 위치 서비스 권한</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ios8-region-ranging-monitoring">iOS8의 위치 서비스 권한에 따른 region ranging &amp; monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ios8-reco-sdk">iOS8에서의 RECO SDK 사용</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-license">RECO Beacon Software Development Kit AGREEMENT</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="reco-sdk-for-ios-v0-2">
<h1>RECO SDK for iOS v0.2<a class="headerlink" href="#reco-sdk-for-ios-v0-2" title="제목 주소">¶</a></h1>
<p>이 문서는 Perples의 iOS용 RECO SDK 사용을 돕고자 작성되었습니다.</p>
<p>RECO SDK는 다음을 포함하고 있습니다.</p>
<ol class="arabic simple">
<li>RECO SDK Framework 파일</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Reco</span><span class="o">.</span><span class="n">framework</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>코드 샘플</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="n">reco</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">sample</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">본 설명은 Xcode 7.0.1을 기준으로 작성되었습니다.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-requirements"></span><div class="section" id="requirements">
<span id="id1"></span><h2>필수 요구사항<a class="headerlink" href="#requirements" title="제목 주소">¶</a></h2>
<p>iOS용 Reco SDK를 사용하기 위한 요구사항입니다.</p>
<div class="section" id="ios-sdk-version">
<h3>iOS SDK Version<a class="headerlink" href="#ios-sdk-version" title="제목 주소">¶</a></h3>
<p>Reco SDK를 사용하기 위한 최소 iOS SDK version 은 다음과 같습니다.</p>
<blockquote>
<div><ul class="simple">
<li>iOS Deployment Target : iOS 7.0 이상</li>
<li>CoreLocation.framework (필수)</li>
</ul>
</div></blockquote>
</div>
</div>
<span id="document-getting_started"></span><div class="section" id="sdk">
<span id="getting-started"></span><h2>SDK 사용하기<a class="headerlink" href="#sdk" title="제목 주소">¶</a></h2>
<div class="section" id="installing-docdir">
<span id="id1"></span><h3>SDK 통합<a class="headerlink" href="#installing-docdir" title="제목 주소">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">본 설명은 Xcode 7.0.1을 기준으로 작성되었습니다.</p>
</div>
<p>iOS용 RECO SDK는 Framework형태로 제공됩니다.</p>
<ol class="arabic simple">
<li>SDK Package내의 Reco.framework 폴더를 사용하고자 하는 프로젝트에 복사합니다.</li>
<li>Xcode에서 프로젝트 파일을 열고 최상단 프로젝트를 선택하여 설정 창을 엽니다.</li>
<li>&#8220;General&#8221; 항목의 &#8220;Linked Frameworks and Libraries&#8221; 항목을 찾습니다. 목록 아래 + 버튼을 눌러 프레임워크와 라이브러리 선택화면을 엽니다.</li>
</ol>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/reco_sdk_ios_setting_01.png"><img alt="_images/reco_sdk_ios_setting_01.png" src="_images/reco_sdk_ios_setting_01.png" /></a>
</div>
<ol class="arabic simple" start="4">
<li>&#8220;Add Other...&#8221;를 선택하여 1번에서 복사한 SDK를 선택합니다.</li>
</ol>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/reco_sdk_ios_setting_02.png"><img alt="_images/reco_sdk_ios_setting_02.png" src="_images/reco_sdk_ios_setting_02.png" /></a>
</div>
<ol class="arabic simple" start="5">
<li>그 외 필요한 framework를 추가합니다.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>CoreLocation.framework (필수)</li>
</ul>
</div></blockquote>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/reco_sdk_ios_setting_03.png"><img alt="_images/reco_sdk_ios_setting_03.png" src="_images/reco_sdk_ios_setting_03.png" /></a>
</div>
</div>
<div class="section" id="reco-sdk">
<h3>RECO SDK<a class="headerlink" href="#reco-sdk" title="제목 주소">¶</a></h3>
<p>RECO SDK는 iOS에서 제공하는 CoreLocation.framework를 기반으로 작성되었으며 iBeacon의 표준에 맞추어 작동합니다.  RECO SDK는 크게 region monitoring과 region ranging 기능을 제공합니다. Region이란 RECOBeacon을 중심으로 beacon에서 내보내는 신호가 닿는 지역을 의미합니다. RECOBeacon은 Apple Inc.에서 정의한 iBeacon의 표준에 맞는 정보를 일정 주기마다 내보내는 (broadcasting) 단순한 역할을 합니다. RECO SDK를 적용한 어플리케이션은  region monitoring을 항상 (실행중이 아닐 때에도) 수행할 수 있으며 region의 진입 여부를 판별하여 알림을 보내거나 백그라운드 작업을 실행할 수 있습니다.</p>
</div>
<div class="section" id="monitoring-recobeaconregion">
<h3>Monitoring RECOBeaconRegion<a class="headerlink" href="#monitoring-recobeaconregion" title="제목 주소">¶</a></h3>
<p>RECOBeaconRegion monitoring은 사용자 디바이스와 RECOBeacon이 얼마나 근처에 있느냐에 따라 region 진입 여부를 판단합니다. RECOBeaconRegion은 아래와 같은 정보로 구별할 수 있습니다.</p>
<ul class="simple">
<li>Proximity UUID (universally unique identifier) : 특정 기관이나 타입으로 정의될 수 있는 RECOBeacon의 유일한 키이며 길이는 128-bit 입니다.</li>
<li>Major : 16-bit unsigned integer 형식으로, 같은 proximity UUID를 가지는 RECOBeacon들의 그룹을 구별하기 위해 사용합니다.</li>
<li>Minor : 16-bit unsigned integer 형식이며 같은 proximity UUID, Major 값을 가지는 RECOBeacon을 구별하기 위해 사용합니다.</li>
</ul>
<p>하나의 RECOBeaconRegion에는 여러대의 RECOBeacon이 존재할 수 있기 때문에 다음과 같은 시나리오를 적용해볼 수 있습니다. 백화점내의 모든 매장에 동일한 proximity UUID를 가지는 RECOBeacon들을 설치해두고, 손님이 특정 매장 근처에 다다가면 major와 minor 값을 이용해 해당 매장의 추가정보를 받아보거나, 백화점 내부의 어디쯤인지를 알 수 있습니다.</p>
<div class="section" id="recobeaconregion">
<h4>RECOBeaconRegion의 정의<a class="headerlink" href="#recobeaconregion" title="제목 주소">¶</a></h4>
<p>Region monitoring을 시작하기 위해서는 RECO SDK에서 제공하는 RECOBeaconRegion 클래스를 이용해 region을 정의하고 시스템에 등록해야 합니다. RECOBeaconRegion 객체를 만들 때 proximityUUID, major, minor 속성을 이용해여 정의를 합니다 (proximityUUID는 필수이고 major와 minor속성은 선택사항). 또한 region을 구분짓기 위해 유일한(unique) identifier를 제공해야합니다. Region monitoring을 통해 진입여부를 판별 할 때 어떤 region인지를 확인하기 위해 identifier를 사용합니다.</p>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">identifier는 RECOBeacon에서 주기적으로 내보내는 데이터와는 관계가 없습니다. 쉽게 말해 사용자(개발자)가 각 region에 붙이는 이름이라고 생각하면 됩니다.</p>
</div>
<p>RECOBeaconRegion을 등록하려면 RECOBeaconManager클래스의 startMonitoringForRegion: 메소드를 호출합니다.</p>
<div class="highlight-python"><div class="highlight"><pre>- (void)registerBeaconRegionWithUUID:(NSUUID *)proximityUUID
                       andIdentifier:(NSString*)identifier {

    // monitoring을 위한 RECOBeaconRegion을 정의
    RECOBeaconRegion *recoRegion = [[RECOBeaconRegion alloc]
        initWithProximityUUID:proximityUUID
                   identifier:identifier];

    // RECOBeaconManager를 사용해 등록
    [self.recoManager startMonitoringForRegion:recoRegion];
}
</pre></div>
</div>
<p>등록하는 순간부터 monitoring이 시작되며 해당 region으로 진입했다고 판단될 때에 시스템에서 그에 알맞는 이벤트를 발생하게 됩니다.</p>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">proximityUUID를 제외한 모든 속성을 다 지정하지 않아도 monitoring에 큰 영향은 없습니다.  proximityUUID만 사용해서 RECOBeaconRegion을 정의하고 해당 proximityUUID를 가지는 region에 진입하고나면 ranging 기능을 사용해 근처 RECOBeacon의 주요 정보 (major, minor, rssi, accuracy 등)을 가져올 수 있습니다. 또한 proximityUUID에 nil값을 전달하면 미리 정해진 RECOBeacon의 proximity가 자동으로 할당이 됩니다.</p>
</div>
</div>
<div class="section" id="region">
<h4>Region 진입여부에 따른 이벤트 핸들링<a class="headerlink" href="#region" title="제목 주소">¶</a></h4>
<p>사용자가 RECOBeaconRegion에 진입하게 되면 RECOBeaconManager는 delegate 메소드 중 recoManager:didEnterRegion:를 호출하게 됩니다. 반대로 RECOBeaconRegion에서 나가게 되면 recoManager:didExitRegion:를 호출합니다.</p>
<p>진입 여부와 관련된 알람을 받기 위해서는 RECOBeaconRegion의 setNotifyOnEntry와 setNotifyOnExit메소드로 설정할 수 있습니다.</p>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">startMonitoringForRegion:을 호출하는 시점에 사용자가 monitoring하려는 region 내부에 있다면 recoManager:didEnterRegion:이 호출되지 않습니다. 반드시 region의 상태 변화가 있어야만 해당 메소드가 호출됩니다.</p>
</div>
</div>
</div>
<div class="section" id="ranging-recobeacon">
<h3>Ranging을 통해 RECOBeacon의 근접여부 판별<a class="headerlink" href="#ranging-recobeacon" title="제목 주소">¶</a></h3>
<p>사용자 디바이스가 등록한 region 내부에 위치할 경우 RECOBeaconManager클래스의 startRangingBeaconsInRegion:메소드를 사용할 수 있습니다. 해당 region안의 RECOBeacon들의 정보와 그로부터의 상대적인 거리등을 알 수 있습니다.</p>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">Ranging을 하기전에 항상 RECOBeaconManager의 isRangingAvailable 메소드로 가능여부를 판별한 다음 startRangingBeaconsInRegion:메소드를 호출해야합니다.</p>
</div>
<p>예를 들어, 각 작품마다 RECOBeacon이 위치한 미술관에 가면, 미술관 큐레이팅 어플리케이션이 가장 가까운 RECOBeacon을 판별하여 해당 작품에 대한 해설와 정보를 보여줄 수 있습니다.</p>
<p>해당 region내부의 RECOBeacon이 가까이 오거나, 멀어지거나, 새로 발견될 때마다 RECOBeaconManager는 delegate 메소드 중 recoManager:didRangeBeacons:inRegion:를 호출하게 됩니다. 이 delegate 메소드는 RECOBeacon객체를 담고 있는 배열을 전달해주며, 객체의 배열은 가장 가까운 RECOBeacon이 0번 인덱스에 위치하는, 가까운 순으로 정렬되어 있습니다. 이 정보들을 이용해 각 beacon까지의 거리를 판별할 수 있습니다. RECOBeacon 객체의 proximity 속성은 해당 beacon까지의 상대적인 위치를 나타냅니다.</p>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">Beacon의 Ranging 여부는 beacon이 내보내는 신호(전파)의 세기에 따라 결정됩니다. 또한 신호의 정확도는 벽, 출입문과 같은 물리적 장벽에 의해 영향을 받을 수 있습니다. 또한 &#8220;물&#8221;에 의해서도 영향을 받을 수 있는데 이는 곧 사람(인체)도 신호에 영향을 줄 수 잇음을 의미합니다. 해당 요인들은 각 RECOBeacon이 제공하는 proximity 값에 영향을 미치므로 각 RECOBeacon을 배치할 때 염두하시길 바랍니다. 필요하다면 각 beacon에서 제공하는 accuracy와 rssi 값을 이용해 배치를 할 수도 있습니다.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre>// RECOBeaconManager 클래스의 delegate 메소드
- (void)recoManager:(RECOBeaconManager*)manager
        didRangeBeacons:(NSArray *)beacons
               inRegion:(RECOBeaconRegion*)region {

    if ([beacons count] &gt; 0) {
        RECOBeacon *nearestExhibit = [beacons firstObject];

        // 작품 근처 가까이 갔을 때에만 해당 정보를 표시
        if (RECOProximityNear == nearestExhibit.proximity) {
            [self presentExhibitInfoWithMajorValue:nearestExhibit.major.integerValue];
    } else {
        [self dismissExhibitInfo];
    }
}
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">주석</p>
<p class="last">만약 동일한 proximityUUID, major, minor값을 가진 beacon이 여러개 있다면 서로 다른 proximity와 rssi를 가질 수 있기 때문에 recoManager:didRangeBeacons:inRegion:를 통해 전달될 수 있습니다. 각각의 beacon에는 서로 다른 속성값을 가지도록 하는 것을 권장합니다.</p>
</div>
</div>
<div class="section" id="id2">
<h3>SDK의 사용<a class="headerlink" href="#id2" title="제목 주소">¶</a></h3>
<p>SDK를 코드내에서 사용하는 법은 다음과 같습니다.</p>
<ol class="arabic simple">
<li>SDK를 사용하고자 하는 부분에 import합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#import &lt;Reco/Reco.h&gt;</span>
</pre></div>
</div>
<p>2. 위임받을 위임자에 protocol에 맞추어 메소드를 작성합니다.
..</p>
<div class="highlight-python"><div class="highlight"><pre>- (void) recoManager:(RECOBeaconManager *)manager didEnterRegion:(RECOBeaconRegion *)region {
    NSLog(@&quot;Background: didEnterRegion %@&quot;, region.identifier);
    // 사용자가 해당 region에 진입했을 때 알람
}

- (void) recoManager:(RECOBeaconManager *)manager didExitRegion:(RECOBeaconRegion *)region {
    NSLog(@&quot;Background: didExitRegion %@&quot;, region.identifier);
    // 사용자가 해당 region에서 나갔을 때 알람
}

- (void)recoManager:(RECOBeaconManager *)manager didRangeBeacons:(NSArray *)beacons
                                                        inRegion:(RECOBeaconRegion *)region {
    NSLog(@&quot;didRangeBeaconsInRegion: %@&quot;, ranged %lu beacons&quot;,
            region.identifier, (unsigned long)[beacons count]);
    // 해당 region에 존재하는 RECOBeacon객체의 정보를 beacons로 넘겨줌
}
// 등등
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>RECOBeaconManager class의 인스턴스를 생성합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>RECOBeaconManager *recoManager = [[RECOBeaconManager alloc] init];
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>RECOBeaconRegion을 생성합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>NSUUID *proximityUUID = [[NSUUID alloc] initWithUUIDString:@&quot;&quot;];
NSString *identifier = @&quot;myRecoRegion&quot;;
RECOBeaconRegion *recoRegion = [[RECOBeaconRegion alloc] initWithProximityUUID:proximityUUID
                                                                    identifier:identifier];

// 해당 region의 진입과 퇴장시 모두 delegate 메소드를 통해 알림을 받습니다.
[recoRegion setNotifyOnEntry:YES];
[recoRegion setNotifyOnExit:YES];
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Monitoring과 Ranging을 적절한 시점에 호출합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>// monitoring 시 호출
[recoManager startMonitoringForRegion:recoRegion];

// ranging 시 호출
[recoManager startRangingBeaconsInRegion:recoRegion];
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>Monitoring과 Ranging을 정지합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>// monitoring 정지
[recoManager stopMonitoringForRegion:recoRegion];

// ranging 정지
[recoManager stopRangingBeaconsInRegion:recoRegion];
</pre></div>
</div>
<p>상세한 구현 예시는 예제 프로젝트를 참고하시기 바랍니다.</p>
</div>
<div class="section" id="monitoring">
<h3>Monitoring의 행동<a class="headerlink" href="#monitoring" title="제목 주소">¶</a></h3>
<p>Monitoring시에 일어나는 이벤트는 사용자의 해당 region 입장/퇴장에 따라 두 가지가 있습니다.
입장과 퇴장을 인식하는 시간은 iOS자체에서 관장하기 때문에 약간의 시간차이가 있으며 아래의 설명을 참조하시기 바랍니다.</p>
<ul class="simple">
<li>Monitoring시에 region 입장/퇴장에 따른 이벤트 발생 지연시간은 백그라운드일 경우 최대 15분까지 날 수 있습니다.</li>
<li>대부분의 경우 그보다 훨씬 짧은 시간에 이벤트 발생이 되며, 자체적인 테스트 결과 입장은 30초 이내, 퇴장은 1분 이내에 이벤트 발생하였습니다.</li>
</ul>
</div>
<div class="section" id="ranging">
<h3>Ranging의 행동<a class="headerlink" href="#ranging" title="제목 주소">¶</a></h3>
<p>사용자가 해당 region을 ranging할 때 이벤트가 발생합니다.</p>
<ul class="simple">
<li>region Ranging시에 recoManager:didRangeBeacons:inRegion: 메소드가 매초마다 불립니다.</li>
<li>기본적으로, Background에서는 ranging이 불가능 합니다. 하지만 monitoring activity가 background에서 실행 중일 때 ranging을 background에서 실행할 수 있습니다. iOS에서는 recoManager:didEnterRegion: 메소드 또는 recoManager:didExitRegion: 메소드가 background에서 호출 되었을 때 10초의 시간을 부여합니다. 따라서, background monitoring 중 입장 및 퇴장 시, 10초간 region ranging을 할 수 있습니다.</li>
</ul>
</div>
<div class="section" id="ios8">
<h3>iOS8의 위치 서비스<a class="headerlink" href="#ios8" title="제목 주소">¶</a></h3>
<p>iOS 8 이후 버전부터는 위치 서비스 권한의 타입이 바뀌면서 iOS 8 SDK와 함께 CoreLocation framework를 사용하는 모든 어플리케이션에 변화가 생깁니다.
RECO SDK도 CoreLocation framework를 사용하기 때문에 위치 서비스 권한을 요청하는 방법이 변화되었습니다.
따라서 iOS 8 SDK와 RECO SDK를 이용하여 어플리케이션을 빌드하려면, 아래의 권한 요청 메소드들을 반드시 읽은 후 사용해야 합니다.</p>
<div class="section" id="id3">
<h4>iOS8의 위치 서비스 권한<a class="headerlink" href="#id3" title="제목 주소">¶</a></h4>
<p>iOS 7 이하 버전에서는 위치 서비스에 접근 할 때 allow(허용)과 deny(거부), 오직 두 타입만을 사용합니다. 또한, region monitoring같은 background에서 CoreLocation 관련 activity가 실행되려면 Background App Refresh가 요구됩니다.</p>
<p>iOS 8 이상 버전에서는 위치 서비스에 접근 할 때 더욱 세밀한 단계의 타입을 사용합니다. Backgroud App Refresh는 더 이상 필요하지 않습니다.</p>
<ul class="simple">
<li><strong>Always</strong> (항상): 어플리케이션이 foreground에서 실행 중이거나 background에서 실행 중인 것과 관계없이 언제나 위치 서비스를 사용 할 수 있습니다.</li>
<li><strong>When In Use</strong> (앱을 사용하는 동안): 어플리케이션이 foreground에서 실행 중일 때만 위치 서비스를 사용 할 수 있습니다. 이 권한은 region monitoring 등과 같은 background 이벤트에 응답하는 API를 사용할 수 없습니다.</li>
<li><strong>Denied</strong> (안함): 어플리케이션이 위치 서비스를 사용하는 것을 완전히 거부하거나, 어플리케이션 설정에서 위치 서비스를 비활성화 한 상태입니다.</li>
</ul>
</div>
<div class="section" id="ios8-region-ranging-monitoring">
<h4>iOS8의 위치 서비스 권한에 따른 region ranging &amp; monitoring<a class="headerlink" href="#ios8-region-ranging-monitoring" title="제목 주소">¶</a></h4>
<ul>
<li><p class="first"><strong>Always</strong> (항상): 어플리케이션에서 background 상태와 foreground 상태에서 monitoring과 ranging을 모두 수행할 수 있습니다.</p>
<blockquote>
<div><ul>
<li><p class="first">Always 권한을 요청하기 위해서는, <strong>requestAlwaysAuthorization</strong> 메소드를 호출해야 합니다. 이 메소드는 비동기식으로 처리되며, 사용자가 위치 서비스를 사용할 수 있도록 권한을 요청합니다. 권한 요청 시에 어플리케이션의 Info.plist 안의 NSLocationAlwaysUsageDescription 키의 텍스트가 출력됩니다. 권한 상태가 변경되면, recoManager:didChangeAuthorizationStatus: 메소드로 결과를 전달받습니다.</p>
</li>
<li><p class="first">Info.plist file (&lt;/dict&gt;전에 삽입):</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;
&lt;string&gt;description for this permission&lt;/string&gt;
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>When In Use</strong> (앱을 사용하는 동안): 어플리케이션에서 foreground 상태에서 ranging을 수행할 수 있지만, monitoring은 수행할 수 없습니다.</p>
<blockquote>
<div><ul>
<li><p class="first">WhenInUse 권한을 요청하기 위해서는, <strong>requestWhenInUseAuthorization</strong> 메소드를 호출해야 합니다. 이 메소드는 비동기식으로 처리되며, 사용자가 위치 서비스를 사용할 수 있도록 권한을 요청합니다. 권한 요청 시에 어플리케이션의 Info.plist 안의 NSLocationWhenInUseUsageDescription 키의 텍스트가 출력됩니다. 권한 상태가 변경되면, recoManager:didChangeAuthorizationStatus: 메소드로 결과를 전달받습니다.</p>
</li>
<li><p class="first">Info.plist file (&lt;/dict&gt;전에 삽입):</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;
&lt;string&gt;description for this permission&lt;/string&gt;
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>Denied</strong> (안함): 어플리케이션에서 monitoring 과 ranging을 수행할 수 없습니다.</p>
</li>
</ul>
</div>
<div class="section" id="ios8-reco-sdk">
<h4>iOS8에서의 RECO SDK 사용<a class="headerlink" href="#ios8-reco-sdk" title="제목 주소">¶</a></h4>
<p>RECO SDK에서는 다음과 같은 방법으로 위치 서비스 권한을 얻을 수 있습니다.</p>
<ol class="arabic simple">
<li>SDK를 Import합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#import &lt;Reco/Reco.h&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>위임받을 위임자에 protocol에 맞추어 메소드를 작성합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>- (void)recoManager:(RECOBeaconManager *)manager
    didChangeAuthorizationStatus:(CLAuthorizationStatus)status {
    NSLog(@&quot;didChangeAuthorizationStatus: status - %d&quot;, status);
    // 권한이 변경되었을 때 알림
    }
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>RECOBeaconManager 클래스의 인스턴스를 만들고 위임자를 지정합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>RECOBeaconManager *recoManager = [[RECOBeaconManager alloc] init];
recoManager.delegate = self;
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>권한을 요청합니다.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>[recoManager requestAlwaysAuthorization];
</pre></div>
</div>
<p>또는</p>
<div class="highlight-python"><div class="highlight"><pre>[recoManager requestWhenInUseAuthorization];
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-license"></span><div class="section" id="reco-beacon-software-development-kit-agreement">
<span id="license"></span><h2>RECO Beacon Software Development Kit AGREEMENT<a class="headerlink" href="#reco-beacon-software-development-kit-agreement" title="제목 주소">¶</a></h2>
<p>This RECO Beacon Software Development Kit Agreement (“Agreement”) is between the individual or entity (“you” or “Developer”) that accepts it, and Perples, Inc. (“Perples”). You accept this Agreement by clicking an “agree” or similar button, where this option is provided by Perples, or if you use or access the Software Development Kit (“SDK”) or any part of the SDK. Your agreement to these terms also binds your authorized users, your company or organization. If you do not agree to the terms of this Agreement, do not accept it. Before accepting this Agreement, please carefully read it. Capitalized terms used but not defined in the body of this Agreement have the meaning given them in the “Definitions” exhibit.</p>
<p>Last updated: May 26, 2015</p>
<ol class="arabic">
<li><p class="first">Development License</p>
<p>1.1. Development License. Conditioned upon compliance with the terms and conditions of this Agreement, Perples hereby grants you a limited, non-exclusive, personal, revocable, non-sublicensable and non-transferable license to: (a) install and use a reasonable number of copies of the SDK on computers owned or controlled by you for the purpose of developing and testing applications that are intended for use solely in connection with a RECO Beacon Device; and (b) modify and incorporate into your Application any sample code provided in the SDK.</p>
<p>1.2. Restrictions. The license granted to you in Section 1.1 is subject to the following restrictions, as well as others listed in this Agreement:</p>
<p>1.2.1. Except as expressly permitted in Section 1.1: (a) you may not publish, distribute or copy the SDK, and (b) you may not modify or create derivative works of the SDK.</p>
<p>1.2.2. You may use the SDK solely in connection with a RECO Beacon Device.</p>
<p>1.2.3. You may not, and may not enable others to, reverse engineer, decompile, disassemble or otherwise attempt to reconstruct, identify or discover any source code, underlying ideas, techniques, or algorithms in the SDK, the RECO Beacon Device or any software that forms part of the SDK, nor attempt to circumvent any related security measures (except as and only to the extent any foregoing restriction is prohibited by applicable law or permitted by applicable law notwithstanding the foregoing restriction, or to the extent as may be permitted by licensing terms governing use of any open source software components or sample code included within the SDK).</p>
<p>1.2.4. You may not remove, obscure, or alter any proprietary rights or confidentiality notices within the SDK or any software, documentation or other materials in it or supplied with it.</p>
<p>1.2.5. You may not create Applications or other software that prevent or degrade the interaction of Applications developed by others with the Software.</p>
<p>1.3. Updates. The terms of this Agreement will apply to any Updates that Perples makes available to you. You agree that Updates may require you to change or update your Application, and may affect your ability to use, access or interact with the SDK.</p>
<p>1.4. Trademarks. You may indicate that your Application is “for RECO Beacon” or “RECO Beacon-enabled”. However, unless provided in an agreement between you and Perples, you may not otherwise use “RECO Beacon”, “RECO”, or any other trademark of the RECO Beacon by Perples in connection with your Application or company, or in any URL, product, service, name field or logos created by you.</p>
<ol class="arabic simple" start="2">
<li>Distribution License</li>
</ol>
<p>2.1. Distribution License. Conditioned upon compliance with the terms and conditions of this Agreement, Perples hereby grants you a limited, non-exclusive, personal, revocable, non-transferable license under Perples’s applicable intellectual property rights to the extent necessary to: (a) copy and distribute (or have copied and distributed) the RECO Beacon Redistributables, solely as compiled with, incorporated into, or packaged with, your Application; and (b) to make (but not have made), use, sell, offer for sale and import your Application.</p>
<p>2.2. Restrictions. The license granted to you in Section 2.1 is subject to the following restrictions, as well as others listed in this Agreement:</p>
<p>2.2.2. You may not, directly or indirectly, publish, post or otherwise make available the RECO Beacon Redistributables other than as compiled with, incorporated into, or packaged with, your Application.</p>
<ol class="arabic simple" start="3">
<li>Open Source Materials, Other Licenses</li>
</ol>
<p>Sample code made publicly available by Perples on its developer web site is provided subject to the MIT license, unless otherwise noted in the license, notice or readme files distributed with the example or in related documentation. The SDK may otherwise include software or other materials that are provided under a separate license agreement, and that separate license will govern the use of such software or other materials in the event of a conflict with this Agreement. Any such separate license agreement may be indicated in the license, notice, or readme files distributed with the applicable software or other materials or in related documentation.</p>
<ol class="arabic simple" start="4">
<li>No High Risk Use; Acknowledgment and Waiver</li>
</ol>
<p>4.1. Notwithstanding anything in this Agreement, you are not licensed to, and you agree not to, use, copy, sell, offer for sale, or distribute the SDK or RECO Beacon Devices (whether compiled with, incorporated into, or packaged with your Application or otherwise), for or in connection with uses where failure or fault of the RECO Beacon Device, RECO Beacon Redistributables or your Application could lead to death or serious bodily injury of any person, or to severe physical or environmental damage (“High Risk Use”). ANY SUCH USE IS STRICTLY PROHIBITED.</p>
<p>4.2. You acknowledge the SDK may allow you to develop Applications that enable the control of motorized or mechanical equipment, or other systems, machines or devices. If you elect to use the SDK in such a way, you must take steps to design and test your Applications to ensure that your Applications do not present risks of personal injury or death, property damage, or other losses. The RECO Beacon Device, the RECO Beacon Redistributables and other software in the SDK may not always function as intended. You must design your Applications so that any failure of a RECO Beacon Device, a RECO Beacon Redistributable and/or such other software does not cause personal injury or death, property damage, or other losses. If you choose to use the SDK, (i) you assume all risk that use of the RECO Beacon Device and/or such other software by you or by any others causes any harm or loss, including to the end users of your Applications or to third parties, (ii) you hereby waive, on behalf of yourself and your Authorized Users, all claims against Perples and its affiliates related to such use, harm or loss (including, but not limited to, any claim that a RECO Beacon Device, a RECO Beacon Redistributable or such other software is defective), and (iii) you agree to hold Perples and its affiliates harmless from such claims.</p>
<ol class="arabic simple" start="5">
<li>Confidentiality and Privacy</li>
</ol>
<p>5.1. Beta Software etc. Obligations. You acknowledge and agree that Perples may share alpha or beta software or hardware with you that it identifies as non-public. If so, you agree not to disclose such software or hardware to others without the prior written consent of Perples until the time, if any, it is made public by Perples, and to use such software or hardware only for the purposes expressly permitted by this Agreement.</p>
<ol class="arabic simple" start="6">
<li>Ownership and Feedback</li>
</ol>
<p>6.1. Ownership. Perples agrees that it obtains no right, title or interest from you (or your licensors) under this Agreement in or to any of your Applications, including any intellectual property rights which subsist in those Applications. As between Perples and you, Perples owns all right, title and interest, including all intellectual property rights, in and to the SDK and the RECO Beacon Redistributables, other than any third party software or materials incorporated in the SDK, and you agree not to contest Perples’s ownership of any of the foregoing.</p>
<p>6.2. Feedback. You may (but are not required to) provide feedback, comments and suggestions (collectively, “Feedback”) to Perples. You hereby grant to Perples a non-exclusive, perpetual, irrevocable, paid-up, transferable, sub-licensable, worldwide license under all intellectual property rights covering such Feedback to use, disclose and exploit all such Feedback for any purpose.</p>
<ol class="arabic simple" start="7">
<li>Your Obligations and Warranties</li>
</ol>
<p>In addition to your other obligations under this Agreement, you warrant and agree that:</p>
<p>7.1. You will use the SDK only in accordance with all accompanying documentation, in the manner expressly permitted by this Agreement, and your use of the SDK, and the marketing, sales and distribution of your Application, will be in compliance with all applicable laws and regulations and all Republic of Korea and local or foreign export and re-export restrictions applicable to the technology and documentation provided under this Agreement (including privacy and data security laws and regulations), and you will not develop any Application which would commit or facilitate the commission of a crime, or other tortious, unlawful, or illegal act.</p>
<ol class="arabic simple" start="8">
<li>Agreement and Development Program</li>
</ol>
<p>We reserve the right to change this Agreement, the SDK or the Perples development and licensing program at any time in our discretion. Perples may require that you either accept and agree to the new terms of this Agreement, or, if you do not agree to the new terms, cease or terminate your use of the SDK. Your continued use of the SDK after changes to this Agreement take effect will constitute your acceptance of the changes. If you do not agree to a change, you must stop using the SDK and terminate this Agreement. Any termination of this Agreement by you under this Section 8 (and only this Section 8) will not affect your right, subject to your continued compliance with your obligations under this Agreement, to continue to distribute versions of your Application created and first distributed before termination, and will not affect the right of your End Users to continue using such versions of your Application, both of which rights will survive termination.</p>
<ol class="arabic simple" start="9">
<li>Term and Termination</li>
</ol>
<p>9.1. Term. This Agreement will continue to apply until terminated by either you or Perples as set out below.</p>
<p>9.2. Termination by You. If you want to terminate this Agreement, you may terminate it by uninstalling and destroying all copies of the SDK that are in the possession, custody or control of you, your Authorized Users and your organization.</p>
<p>9.3. Termination by Perples. Perples may at any time, terminate this Agreement with you for any reason or for no reason in Perples’s sole discretion, including as a result of non-compliance by you with the restrictions in Section 1.2 or Section 2.2, or for other reasons.</p>
<p>9.4. Effect of Termination. Upon termination of this Agreement, all rights granted to you under this Agreement will immediately terminate and you must immediately cease all use and destroy all copies of the SDK in your and your Authorized Users’ possession, custody or control, and, except as specifically set out in Section 8, cease your distribution of Applications. Sections 1.2, 2.2, 5.1, 6, 9.4, and 10 - 13, and the Definitions exhibit, will survive termination of this Agreement. Termination of this Agreement will not affect the right of your End Users who have downloaded your Application prior to termination to continue using it.</p>
<ol class="arabic simple" start="10">
<li>Indemnification.</li>
</ol>
<p>You agree to indemnify, hold harmless and, at Perples’s option, defend Perples and its affiliates and their respective officers, directors, employees, agents, and representatives harmless from any and all judgments, awards, settlements, liabilities, damages, costs, penalties, fines and other expenses (including court costs and reasonable attorneys’ fees) incurred by them arising out of or relating to any third party claim (a) with respect to your Application, including products liability, privacy, or intellectual property infringement claims, or (b) based upon your negligence or willful misconduct or any breach or alleged breach of your representations, warranties, and covenants under this Agreement. In no event may you enter into any settlement or like agreement with a third party that affects Perples rights or binds Perples in any way, without the prior written consent of Perples.</p>
<ol class="arabic simple" start="11">
<li>Warranty Disclaimer.</li>
</ol>
<p>THE SDK AND THE RECO BEACON REDISTRIBUTABLES ARE PROVIDED &#8220;AS IS&#8221; WITHOUT WARRANTY OF ANY KIND. PERPLES, ON BEHALF OF ITSELF AND ITS SUPPLIERS, HEREBY DISCLAIMS ALL REPRESENTATIONS, PROMISES, OR WARRANTIES, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE, WITH RESPECT TO THE SDK AND THE RECO BEACON REDISTRIBUTABLES, INCLUDING THEIR CONDITION, AVAILABILITY, OR THE EXISTENCE OF ANY LATENT DEFECTS, AND PERPLES SPECIFICALLY DISCLAIMS ALL IMPLIED WARRANTIES OF MERCHANTABILITY, TITLE, NONINFRINGEMENT, SUITABILITY, AND FITNESS FOR ANY PURPOSE. PERPLES DOES NOT WARRANT THAT THE SDK OR THE RECO BEACON REDISTRIBUTABLES WILL BE ERROR-FREE OR THAT THEY WILL WORK WITHOUT INTERRUPTION.</p>
<ol class="arabic simple" start="12">
<li>Limitation of Liability.</li>
</ol>
<p>THE SOFTWARE IS PROVIDED &#8220;AS IS&#8221;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. MOREOVER, PERPLES SHALL NEVER BE LIABLE FOR ANY DEFECT IN SOURCE CODE WRITTEN BY YOU WHEN RELYING ON THE SDK.</p>
<ol class="arabic simple" start="13">
<li>Miscellaneous.</li>
</ol>
<p>13.1. Assignment. You may not assign this Agreement without the prior written consent of Perples. Any assignment without such consent is void and of no effect. Perples may assign this Agreement without your consent in connection with (a) a merger or consolidation of Perples, (b) a sale or assignment of substantially all its assets, or (c) any other transaction which results in another entity or person owning substantially all of the assets of Perples. In the event of a permitted assignment, this Agreement will inure to the benefit of and be binding upon the parties and their respective successors and permitted assigns.</p>
<p>13.2. Waiver; Severability. The failure of the other party to enforce any rights under this Agreement will not be deemed a waiver of any rights. The rights and remedies of the parties in this Agreement are not exclusive and are in addition to any other rights and remedies provided by law. If any provision of this Agreement is held by a court of competent jurisdiction to be contrary to law, the remaining provisions of this Agreement will remain in full force and effect.</p>
<p>13.3. Reservation. All licenses not expressly granted in this Agreement are reserved and no other licenses, immunity or rights, express or implied, are granted by Perples, by implication, estoppel, or otherwise. The software in the SDK is licensed, not sold.</p>
<p>13.4. Export Restrictions. The software is subject to Republic of Korea export laws and regulations. You must comply with all domestic and international export laws and regulations that apply to the software. These laws include restrictions on destinations, end users, and end use.</p>
<p>13.5. Relationship of the Parties. This Agreement does not create any agency, partnership, or joint venture relationship between Perples and you. This Agreement is for the sole benefit of Perples and you (and indemnified parties), and no other persons will have any right or remedy under this Agreement.</p>
<p>13.6. Notice. The address for notice to Perples under this Agreement is:</p>
<p>Perples, Inc.
8F, 209 Dosan-daero, Gangnam-gu, Seoul, South Korea</p>
<p>13.7. Entire Agreement. This Agreement is the entire understanding of the parties with respect to its subject matter and supersedes any previous or contemporaneous communications, whether oral or written with respect to such subject matter.</p>
<p>Definitions</p>
<p>Whenever capitalized in this Agreement:</p>
<p>“Authorized Users” means your employees and contractors, members of your organization or, if you are an educational institution, your faculty, staff and registered students, who (a) have a demonstrable need to know or use the SDK in order to develop and test Applications on your behalf and (b) each have written and binding agreements with you to protect against the unauthorized use and disclosure of the SDK consistent with the terms and conditions of this Agreement. Authorized Users do not include End Users.about:blank</p>
<p>“End User” means your end user customer(s) or licensee(s).</p>
<p>“Perples” “we” or “us” means Perples, Inc. with a principal place of business at 8F, 209 Dosan-daero, Gangnam-gu, Seoul, South Korea.</p>
<p>“RECO Beacon Device” means the RECO Beacon, a bluetooth low energy beacon device that sends out Bluetooth signals in regular intervals.</p>
<p>“RECO Beacon Redistributables” means any .jar files, .so files, .framework files, or other materials we specifically designate in the SDK excluding the sample code as made available for incorporation into or distribution with Applications.</p>
<p>“SDK” means, collectively, the RECO Beacon Redistributables, tools, APIs, software, documentation, other materials and any updates to the foregoing that may be provided or made available to you by Perples in connection with this Agreement, via the RECO Member Center or otherwise for use in connection with the Perples development program to develop Applications.</p>
<p>“Updates” means updates, upgrades, modifications, enhancements, revisions, new releases or new versions to the SDK that Perples may make available to you in connection with this Agreement.</p>
<p>“RECO Member Center” means the developer portal (<a class="reference external" href="http://member.reco2.me">http://member.reco2.me</a>) provided by Perples.</p>
<p>Other capitalized terms used in this Agreement have the meaning given them elsewhere in this Agreement.</p>
</li>
</ol>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014 - 2015, Perples Inc..<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>